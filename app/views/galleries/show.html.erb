<div class="gallery">
  <div>
    <h1><strong><%= @gallery.name.capitalize %></strong></h1>

    <p class="gallery_contact_name"><i class="far fa-address-card">
      <%= @gallery.contact_name %></i></p>

    <p class="gallery_phone_number"><i class="fas fa-phone"><%= @gallery.phone_number %></i></p>

    <p><%= link_to "Add Appointment", new_gallery_appointment_path(@gallery), class: "btn btn-primary btn-m" %></p>

    <p><% if policy(@gallery).edit?%>
        <%= link_to "Make Changes to your Gallery", edit_gallery_path(@gallery), class: "btn btn-primary btn-m" %></p>
       <% end %>



    <% if policy(@gallery).destroy? %>
    <p><%= link_to "Delist your Gallery", gallery_path(@gallery), class: "btn btn-danger btn-m", method: :delete,data: { confirm: "Are you sure?" } %></p>
    <% end %>
  </div>

  <div>
    <p><%= cl_image_tag @gallery.photo, height: 300, width: 400, crop: :fill, class: "gallery-photo" %></p>

    <% if policy(@gallery).destroy? %>
    <!-- since .new? returns true for every user, use .destroy? to ultilize-->
    <!-- record.user == current_user policy of gallery -->
      <p><%= link_to "Add Artist", new_artist_path(@gallery), class: "btn btn-primary btn-m gallery-add-btn" %>
    <% end %>

    <% if policy(@gallery).destroy? %>
      <%= link_to "Add Painting", new_gallery_painting_path(@gallery), class: "btn btn-primary btn-m gallery-add-btn" %></p>
    <% end %>
  </div>

  <div class="map">
    <p
    id="map"
    data-marker="<%= @marker.to_json %>"
    data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>"></p>

    <p class="gallery_address"><%= @gallery.address %></p>

  </div>
</div>




  <div class="container">
      <div class="row">
          <% @gallery.paintings.each do |painting| %>
            <%= render '/paintings/painting_card', painting: painting %>
          <% end %>
      </div>
  </div>




</div>
